<div class="the-thing-view" *ngIf="theThing">
  <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="10px">
    <div>
      <button mat-fab class='create-clone' (click)="createClone()"><mat-icon>file_copy</mat-icon></button>
    </div>
    <div *ngIf="isPendingRelation">
      <button mat-fab class="link-relation-back" (click)="linkRelationBack()">
        <mat-icon>call_merge</mat-icon>
      </button>
    </div>
  </div>
  <div class="name">
    <h2>{{ theThing.name }}</h2>
  </div>
  <div class="tags">
    <ygg-tags-view [tags]="theThing.tags"></ygg-tags-view>
  </div>
  <br />
  <div class="cells">
    <div
      *ngFor="let cellItem of theThing.cells | keyvalue"
      class="cell"
      [attr.cell-name]="cellItem.value.name"
    >
      <mat-card>
        <mat-card-content>
          <the-thing-cell-view [cell]="cellItem.value"></the-thing-cell-view>
        </mat-card-content>
      </mat-card>
    </div>
    <br />
    <div class="relation-list">
      <div
        *ngFor="let relation of theThing.relations | keyvalue"
        [attr.relation-name]="relation.key"
      >
        <h3>{{ relation.key }}</h3>
        <the-thing-list [ids]="relation.value"></the-thing-list>
      </div>
    </div>
  </div>
</div>
