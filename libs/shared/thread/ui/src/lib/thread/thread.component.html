<div class="thread">
  <ygg-title-divider>留言區</ygg-title-divider>
  <ygg-omni-type-control
    type="html"
    [formControl]="formControlNewComment"
  ></ygg-omni-type-control>
  <br />
  <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="10px">
    <button
      mat-mini-fab
      (click)="submitNewComment()"
      [disabled]="formControlNewComment.invalid"
      matTooltip="送出留言"
    >
      <mat-icon> add_comment</mat-icon>
    </button>
  </div>
  <br />
  <div class="comment-list">
    <div class="comments-staggered">
      <div
        *ngFor="let comment of comments; let isEven = even; let isLast = last"
      >
        <div
          fxLayout="column"
          [fxLayoutAlign]="isEven ? 'start end' : 'start start'"
          fxLayoutGap="10px"
        >
          <ygg-user-thumbnail [id]="comment.ownerId"></ygg-user-thumbnail>
          <div>
            <h5>{{ comment.createAt | date: 'short' }}</h5>
          </div>
          <div style="max-width: 100%;">
            <ygg-omni-type-view
              type="html"
              [value]="comment.content"
            ></ygg-omni-type-view>
          </div>
        </div>
        <mat-divider *ngIf="!isLast"></mat-divider>
      </div>
    </div>
  </div>
</div>
