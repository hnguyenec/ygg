<div class="image-thumbnail-list" *ngIf="items">
  <ygg-action-bar-layout>
    <div ygg-action-bar-button *ngIf="isSelectable">
      <button
        type="button"
        class="clear-selection"
        mat-fab
        [disabled]="!selection || selection.length <= 2"
        (click)="clearSelection()"
      >
        <mat-icon>delete_sweep</mat-icon>
      </button>
    </div>
    <div ygg-action-bar-button *ngIf="dialogSubmit$.observers.length > 0">
      <button
        type="button"
        class="submit"
        mat-fab
        [disabled]="!selection || selection.length <= 0"
        (click)="onSubmit()"
      >
        <mat-icon>check</mat-icon>
      </button>
    </div>
    <div ygg-action-bar-content>
      <div *ngIf="selection.length > 0">
        <div
          fxLayout="row wrap"
          fxLayoutAlign="start center"
          fxLayoutGap="10px"
          class="selection"
        >
          <div
            *ngFor="let item of selection"
            class="item"
            (click)="onClickItem(item)"
            [attr.item-id]="item.id"
          >
            <ygg-image-thumbnail [item]="item"></ygg-image-thumbnail>
          </div>
        </div>
        <hr />
      </div>
      <div fxLayout="row wrap" fxLayoutAlign="start center" fxLayoutGap="20px">
        <div
          *ngFor="let item of items; let isLast = last; let isFirst = first;"
          [attr.item-id]="item.id"
          [attr.item-name]="item.name"
          [attr.item-image]="item.image"
          class="item"
          [ngClass]="{
            'last-item': isLast,
            'first-item': isFirst,
            selected: isSelected(item)
          }"
          (click)="onClickItem(item)"
        >
          <ygg-image-thumbnail [item]="item"></ygg-image-thumbnail>
          <div class="open-link" [hidden]="!item.link">
            <button type="button" mat-mini-fab (click)="onClickLink(item);$event.stopPropagation();">
              <mat-icon>open_in_new</mat-icon>
            </button>
          </div>
          <div class="delete-item" [hidden]="!isItemDeletable">
            <button type="button" mat-mini-fab (click)="onDeleteItem(item)">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </div>
        <div class="item" [hidden]="hideAddButton">
          <button class="add add-item" type="button" mat-fab (click)="onAdd()">
            <mat-icon>add</mat-icon>
          </button>
        </div>
      </div>
    </div></ygg-action-bar-layout
  >
</div>
