<div class="business-hours-control">
  <div class="control-label" *ngIf="label">
    <h4>
      <span>{{ label }}</span>
    </h4>
  </div>
  <div
    fxLayout="row"
    fxLayoutAlign="start end"
    fxLayoutGap="10px"
    [formGroup]="formGroupOpenHour"
  >
    <div class="week-day-select" fxFlex="150px">
      <mat-select placeholder="選擇星期幾..." formControlName="weekDay">
        <mat-option
          *ngFor="let weekDay of weekDayOptions"
          [value]="weekDay.value"
        >
          {{ weekDay.name }}
        </mat-option>
        <mat-option [value]="7">整週/每天</mat-option>
      </mat-select>
    </div>
    <div>
      <ygg-time-range-control
        formControlName="timeRange"
      ></ygg-time-range-control>
    </div>
    <div>
      <button mat-mini-fab (click)="addOpenHour()" matTooltip="加入服務時段">
        <mat-icon>timer</mat-icon>
      </button>
    </div>
    <div>
      <button
        mat-mini-fab
        (click)="subtractOpenHour()"
        matTooltip="減去服務時段"
      >
        <mat-icon>timer_off</mat-icon>
      </button>
    </div>
  </div>
  <br />
  <div
    class="open-hours-list"
    *ngIf="businessHours.getOpenHours() as openHours"
  >
    <div [hidden]="openHours.length > 0">
      <h4>尚未指定任何服務時段</h4>
    </div>
    <div
      *ngFor="let openHour of openHours; let idx = index"
      class="open-hour-item mat-elevation-z6"
      fxLayout="row"
      fxLayoutAlign="space-between center"
      fxLayoutGap="20px"
    >
      <div>
        <ygg-open-hour [openHour]="openHour"></ygg-open-hour>
      </div>
      <div>
        <button mat-mini-fab (click)="deleteOpenHour(idx)">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
    </div>
  </div>
</div>
