<div class="purchase-list">
  <div class="list">
    <div *ngFor="let item of flattenPurchases | keyvalue; let isFirst = first; let isLast = last">
      <div
        class="purchase-line"
        fxLayout="row"
        fxLayoutAlign="start end"
        fxLayoutGap="10px"
      >
        <div *ngFor="let p of item.value" [fxFlexAlign]='isFirst ? "start" : "end"'>
          <ygg-purchase-thumbnail [purchase]="p"></ygg-purchase-thumbnail>
        </div>
      </div>
      <div *ngIf="!isLast">
        <hr>
      </div>
    </div>
  </div>
  <h3 class='total-price'>總價：<ygg-price [price]="totalPrice"></ygg-price></h3>
</div>
